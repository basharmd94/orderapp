2024-09-18 12:57:07,985 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-18 13:02:03,503 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:04:13,015 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:05:34,431 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:05:34,433 - logs - ERROR - Unexpected error during user registration: 'async_generator_asend' object is not callable
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 61, in register_user
    async with self.db() as session:
               ^^^^^^^^^
TypeError: 'async_generator_asend' object is not callable

2024-09-18 13:05:34,435 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-18 13:05:45,348 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:05:45,350 - logs - ERROR - Unexpected error during user registration: 'async_generator_asend' object is not callable
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 61, in register_user
    async with self.db() as session:
               ^^^^^^^^^
TypeError: 'async_generator_asend' object is not callable

2024-09-18 13:05:45,352 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-18 13:06:38,775 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:06:38,777 - logs - ERROR - Unexpected error during user registration: 'async_generator_asend' object is not callable
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 63, in register_user
    async with self.db() as session:
               ^^^^^^^^^
TypeError: 'async_generator_asend' object is not callable

2024-09-18 13:06:38,779 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-18 13:06:51,000 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:06:51,002 - logs - ERROR - Unexpected error during user registration: 'async_generator_asend' object is not callable
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 63, in register_user
    async with self.db() as session:
               ^^^^^^^^^
TypeError: 'async_generator_asend' object is not callable

2024-09-18 13:06:51,005 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-18 13:06:54,204 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:06:54,206 - logs - ERROR - Unexpected error during user registration: 'async_generator_asend' object is not callable
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 63, in register_user
    async with self.db() as session:
               ^^^^^^^^^
TypeError: 'async_generator_asend' object is not callable

2024-09-18 13:06:54,207 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-18 13:08:03,773 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:08:03,798 - logs - ERROR - Unexpected error during user registration: 'async_generator_asend' object is not callable
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 63, in register_user
    async with self.get_session() as session:
               ^^^^^^^^^
TypeError: 'async_generator_asend' object is not callable

2024-09-18 13:08:03,800 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-18 13:14:14,971 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:14:15,002 - logs - ERROR - User Name already registered in registration table
2024-09-18 13:14:15,003 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 13:14:15,004 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 13:23:13,007 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:23:13,033 - logs - ERROR - User Name already registered in registration table
2024-09-18 13:23:13,034 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 13:23:13,035 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 13:23:13,826 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:23:13,896 - logs - ERROR - User Name already registered in registration table
2024-09-18 13:23:13,896 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 13:23:13,897 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 13:23:27,066 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:23:27,141 - logs - ERROR - Email already registered in registration table
2024-09-18 13:23:27,142 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'Email already registered in registration table'}]
2024-09-18 13:23:27,142 - logs - ERROR - Error registering user: 400: [{'msg': 'Email already registered in registration table'}]
2024-09-18 13:23:34,903 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:23:34,911 - logs - ERROR - Employee code already registered in registration table
2024-09-18 13:23:34,912 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'Employee code already registered in registration table'}]
2024-09-18 13:23:34,913 - logs - ERROR - Error registering user: 400: [{'msg': 'Employee code already registered in registration table'}]
2024-09-18 13:23:42,567 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 13:23:42,847 - logs - INFO - <models.users_model.ApiUsers object at 0x000001A731AFAB40> created successfully
2024-09-18 13:23:42,848 - logs - INFO - User registered successfully: basharmd96
2024-09-18 14:37:38,239 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 14:37:38,250 - logs - ERROR - User Name already registered in registration table
2024-09-18 14:37:38,251 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 14:37:38,252 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-18 14:38:56,251 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 14:38:56,340 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'You have no ID in employee table'}]
2024-09-18 14:38:56,340 - logs - ERROR - Error registering user: 400: [{'msg': 'You have no ID in employee table'}]
2024-09-18 14:39:03,106 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-18 14:39:03,108 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'You have no ID in employee table'}]
2024-09-18 14:39:03,109 - logs - ERROR - Error registering user: 400: [{'msg': 'You have no ID in employee table'}]
2024-09-19 18:33:13,975 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-19 18:35:40,830 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-19 18:44:38,183 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-19 18:45:07,113 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 18:45:07,122 - logs - ERROR - Unexpected error during user registration: 'NoneType' object has no attribute 'query'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 60, in register_user
    self.check_user_id_in_prmst(users.user_id)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 20, in check_user_id_in_prmst
    prmst_user = self.db.query(Prmst).filter(Prmst.xemp == user_id).first()
                 ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'query'

2024-09-19 18:45:07,124 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-19 18:45:54,826 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 18:45:54,828 - logs - ERROR - Unexpected error during user registration: 'NoneType' object has no attribute 'query'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 60, in register_user
    self.check_user_id_in_prmst(users.user_id)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 20, in check_user_id_in_prmst
    prmst_user = self.db.query(Prmst).filter(Prmst.xemp == user_id).first()
                 ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'query'

2024-09-19 18:45:54,830 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-19 18:46:00,915 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 18:46:00,918 - logs - ERROR - Unexpected error during user registration: 'NoneType' object has no attribute 'query'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 60, in register_user
    self.check_user_id_in_prmst(users.user_id)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 20, in check_user_id_in_prmst
    prmst_user = self.db.query(Prmst).filter(Prmst.xemp == user_id).first()
                 ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'query'

2024-09-19 18:46:00,923 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-19 18:46:45,695 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 18:46:45,696 - logs - ERROR - Unexpected error during user registration: 'NoneType' object has no attribute 'query'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 60, in register_user
    self.check_user_id_in_prmst(users.user_id)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 20, in check_user_id_in_prmst
    prmst_user = self.db.query(Prmst).filter(Prmst.xemp == user_id).first()
                 ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'query'

2024-09-19 18:46:45,698 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-19 18:46:53,586 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 18:46:53,588 - logs - ERROR - Unexpected error during user registration: 'NoneType' object has no attribute 'query'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 60, in register_user
    self.check_user_id_in_prmst(users.user_id)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 20, in check_user_id_in_prmst
    prmst_user = self.db.query(Prmst).filter(Prmst.xemp == user_id).first()
                 ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'query'

2024-09-19 18:46:53,590 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-19 18:46:58,005 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 18:46:58,007 - logs - ERROR - Unexpected error during user registration: 'NoneType' object has no attribute 'query'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 60, in register_user
    self.check_user_id_in_prmst(users.user_id)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 20, in check_user_id_in_prmst
    prmst_user = self.db.query(Prmst).filter(Prmst.xemp == user_id).first()
                 ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'query'

2024-09-19 18:46:58,009 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-19 18:48:15,184 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-19 18:59:37,369 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:00:14,888 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:02:16,331 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:02:52,151 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:07:26,399 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:09:38,272 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:09:59,281 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:11:28,912 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:13:11,656 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:13:47,825 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:17:39,737 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:17:40,701 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:17:47,805 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:17:55,447 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:23:59,800 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:02,427 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:03,803 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:04,579 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:05,667 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:06,424 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:07,311 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:08,380 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:09,220 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:09,979 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:10,679 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:11,474 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:12,347 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:14,360 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:24:15,200 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:27:11,107 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:27:11,117 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:27:20,226 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:28:51,870 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:29:16,870 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:31:06,011 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:34:49,957 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:35:10,916 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:35:17,515 - logs - INFO - get all users endpoint called: /api/v1/test/getallusers
2024-09-19 19:55:23,458 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 19:55:23,463 - logs - ERROR - Unexpected error during user registration: name 'select' is not defined
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 55, in register_user
    await self.check_user_id_in_prmst(users.user_id)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 19, in check_user_id_in_prmst
    prmst_user = await self.db.execute(select(Prmst).filter(Prmst.xemp == user_id))
                                       ^^^^^^
NameError: name 'select' is not defined. Did you forget to import 'select'

2024-09-19 19:55:23,464 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-19 19:56:05,307 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 19:56:05,341 - logs - ERROR - User Name already registered in registration table
2024-09-19 19:56:05,342 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-19 19:56:05,343 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-19 20:15:01,717 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 20:15:01,812 - logs - ERROR - User Name already registered in registration table
2024-09-19 20:15:01,813 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-19 20:15:01,814 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-19 20:17:45,780 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-19 20:17:45,809 - logs - ERROR - User Name already registered in registration table
2024-09-19 20:17:45,810 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-19 20:17:45,811 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 18:09:15,659 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:10:23,895 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:12:33,260 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:14:03,004 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:14:04,683 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:15:53,733 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:16:08,878 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:17:42,328 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:17:43,276 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:18:53,671 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:18:54,615 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:20:38,333 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:21:00,833 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:21:43,306 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:22:21,486 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:22:35,701 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:23:38,320 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:24:57,559 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:26:04,469 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:27:01,685 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:27:41,874 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:30:18,896 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:30:44,470 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:31:47,869 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:33:24,997 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:52:32,077 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 18:52:32,183 - logs - ERROR - User Name already registered in registration table
2024-09-21 18:52:32,184 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 18:52:32,185 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 18:53:18,694 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:56:04,411 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:57:54,334 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 18:59:16,451 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 19:21:37,329 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:21:54,237 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:01,168 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:02,083 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:04,398 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:05,408 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:15,735 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:16,911 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:18,089 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:19,100 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:20,017 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:20,870 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:21,632 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:22,332 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:23,256 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:23,727 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:27,971 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:29,247 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:30,572 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:31,563 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:32,700 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:33,734 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:34,744 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:37,037 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:38,492 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:22:45,559 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:23:29,266 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:23:40,522 - logs - INFO - get all items endpoint called: /api/v1/items/all/100000
2024-09-21 19:24:54,213 - logs - INFO - get all items endpoint called: /api/v1/items/all/100000
2024-09-21 19:26:14,897 - logs - INFO - get all items endpoint called: /api/v1/items/items_without_auth
2024-09-21 19:26:39,691 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-21 19:26:50,584 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:27:39,973 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:30:50,046 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:30:59,185 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:31:06,154 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:31:08,960 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:31:11,750 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:31:13,424 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:31:14,920 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-21 19:38:04,284 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:38:04,315 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:38:04,316 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:38:04,317 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:38:09,775 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:38:09,784 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:38:09,785 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:38:09,786 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:38:17,937 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:38:17,948 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:38:17,949 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:38:17,950 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:38:32,116 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:38:32,129 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:38:32,131 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:38:32,133 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:39:57,784 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:39:57,794 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:39:57,795 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:39:57,796 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:41:32,623 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:41:32,651 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:41:32,652 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:41:32,653 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:41:58,788 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:41:58,801 - logs - ERROR - Unexpected error during user registration: 'UserRegistrationController' object has no attribute 'check_username_exists'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 57, in register_user
    await self.check_username_exists(users.user_name)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserRegistrationController' object has no attribute 'check_username_exists'. Did you mean: 'check_email_exists'?

2024-09-21 19:41:58,803 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-21 19:43:49,345 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:43:49,370 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:43:49,371 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:43:49,372 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:46:39,612 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:46:39,641 - logs - ERROR - Unexpected error during user registration: 'coroutine' object has no attribute 'scalars'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 58, in register_user
    await self.check_username_exists(users.user_name)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 28, in check_username_exists
    user_exists = await self.db.execute(select(ApiUsers).filter(ApiUsers.username == username)).scalars().first()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'scalars'

2024-09-21 19:46:39,643 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-21 19:47:47,008 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:47:47,039 - logs - ERROR - Unexpected error during user registration: 'coroutine' object has no attribute 'scalars'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 57, in register_user
    await self.check_username_exists(users.user_name)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 28, in check_username_exists
    if await self.db.execute(select(ApiUsers).filter(ApiUsers.username == username)).scalars().first():
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'scalars'

2024-09-21 19:47:47,041 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-21 19:48:49,005 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:48:49,026 - logs - ERROR - Unexpected error during user registration: 'coroutine' object has no attribute 'scalars'
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 57, in register_user
    await self.check_username_exists(users.user_name)
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 28, in check_username_exists
    if await self.db.execute(select(ApiUsers).filter(ApiUsers.username == username)).scalars().first():
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'scalars'

2024-09-21 19:48:49,029 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
2024-09-21 19:49:50,399 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:49:50,419 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:49:50,420 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:49:50,422 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:50:02,490 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:50:02,502 - logs - ERROR - User Name already registered in registration table
2024-09-21 19:50:02,503 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:50:02,505 - logs - ERROR - Error registering user: 400: [{'msg': 'User Name already registered in registration table'}]
2024-09-21 19:58:27,680 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:58:27,681 - logs - DEBUG - Normalized Username: 'ba498'
2024-09-21 19:58:27,682 - logs - DEBUG - Normalized Email: 'mat197195@gmail.com'
2024-09-21 19:58:27,682 - logs - DEBUG - Normalized User ID: 'it--000009'
2024-09-21 19:58:27,683 - logs - DEBUG - Checking if user_id 'it--000009' exists in Prmst...
2024-09-21 19:58:27,698 - logs - DEBUG - Executing query: SELECT prmst.zid, prmst.xemp, prmst.xname, prmst.xproj, prmst.xstatusemp 
FROM prmst 
WHERE lower(prmst.xemp) = :lower_1
2024-09-21 19:58:27,724 - logs - DEBUG - Result of Prmst check for xemp='it--000009': True
2024-09-21 19:58:27,727 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".username) = :lower_1
2024-09-21 19:58:27,739 - logs - DEBUG - Result of existence check for username='ba498': False
2024-09-21 19:58:27,739 - logs - DEBUG - Exists Value: None
2024-09-21 19:58:27,741 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".email) = :lower_1
2024-09-21 19:58:27,746 - logs - DEBUG - Result of existence check for email='mat197195@gmail.com': True
2024-09-21 19:58:27,747 - logs - DEBUG - Exists Value: <models.users_model.ApiUsers object at 0x000001D2DD245460>
2024-09-21 19:58:27,747 - logs - ERROR - Email already registered in registration table
2024-09-21 19:58:27,748 - logs - ERROR - HTTP error while registering user: 400: Email already registered in registration table
2024-09-21 19:58:27,749 - logs - ERROR - Error registering user: 400: Email already registered in registration table
2024-09-21 19:58:36,323 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:58:36,324 - logs - DEBUG - Normalized Username: 'ba498'
2024-09-21 19:58:36,325 - logs - DEBUG - Normalized Email: 'mat197196@gmail.com'
2024-09-21 19:58:36,325 - logs - DEBUG - Normalized User ID: 'it--000009'
2024-09-21 19:58:36,326 - logs - DEBUG - Checking if user_id 'it--000009' exists in Prmst...
2024-09-21 19:58:36,328 - logs - DEBUG - Executing query: SELECT prmst.zid, prmst.xemp, prmst.xname, prmst.xproj, prmst.xstatusemp 
FROM prmst 
WHERE lower(prmst.xemp) = :lower_1
2024-09-21 19:58:36,336 - logs - DEBUG - Result of Prmst check for xemp='it--000009': True
2024-09-21 19:58:36,342 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".username) = :lower_1
2024-09-21 19:58:36,348 - logs - DEBUG - Result of existence check for username='ba498': False
2024-09-21 19:58:36,348 - logs - DEBUG - Exists Value: None
2024-09-21 19:58:36,351 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".email) = :lower_1
2024-09-21 19:58:36,355 - logs - DEBUG - Result of existence check for email='mat197196@gmail.com': False
2024-09-21 19:58:36,356 - logs - DEBUG - Exists Value: None
2024-09-21 19:58:36,359 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers"."employeeCode") = :lower_1
2024-09-21 19:58:36,366 - logs - DEBUG - Result of existence check for employeeCode='it--000009': True
2024-09-21 19:58:36,367 - logs - DEBUG - Exists Value: <models.users_model.ApiUsers object at 0x000001D2DD246450>
2024-09-21 19:58:36,367 - logs - ERROR - Employee code already registered in registration table
2024-09-21 19:58:36,368 - logs - ERROR - HTTP error while registering user: 400: Employee code already registered in registration table
2024-09-21 19:58:36,369 - logs - ERROR - Error registering user: 400: Employee code already registered in registration table
2024-09-21 19:58:46,032 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:58:46,034 - logs - DEBUG - Normalized Username: 'ba498'
2024-09-21 19:58:46,034 - logs - DEBUG - Normalized Email: 'mat197196@gmail.com'
2024-09-21 19:58:46,035 - logs - DEBUG - Normalized User ID: 'it--000010'
2024-09-21 19:58:46,035 - logs - DEBUG - Checking if user_id 'it--000010' exists in Prmst...
2024-09-21 19:58:46,036 - logs - DEBUG - Executing query: SELECT prmst.zid, prmst.xemp, prmst.xname, prmst.xproj, prmst.xstatusemp 
FROM prmst 
WHERE lower(prmst.xemp) = :lower_1
2024-09-21 19:58:46,046 - logs - DEBUG - Result of Prmst check for xemp='it--000010': True
2024-09-21 19:58:46,049 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".username) = :lower_1
2024-09-21 19:58:46,052 - logs - DEBUG - Result of existence check for username='ba498': False
2024-09-21 19:58:46,053 - logs - DEBUG - Exists Value: None
2024-09-21 19:58:46,106 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".email) = :lower_1
2024-09-21 19:58:46,108 - logs - DEBUG - Result of existence check for email='mat197196@gmail.com': False
2024-09-21 19:58:46,109 - logs - DEBUG - Exists Value: None
2024-09-21 19:58:46,110 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers"."employeeCode") = :lower_1
2024-09-21 19:58:46,112 - logs - DEBUG - Result of existence check for employeeCode='it--000010': True
2024-09-21 19:58:46,113 - logs - DEBUG - Exists Value: <models.users_model.ApiUsers object at 0x000001D2DD246240>
2024-09-21 19:58:46,113 - logs - ERROR - Employee code already registered in registration table
2024-09-21 19:58:46,114 - logs - ERROR - HTTP error while registering user: 400: Employee code already registered in registration table
2024-09-21 19:58:46,114 - logs - ERROR - Error registering user: 400: Employee code already registered in registration table
2024-09-21 19:58:52,877 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:58:52,878 - logs - DEBUG - Normalized Username: 'ba498'
2024-09-21 19:58:52,879 - logs - DEBUG - Normalized Email: 'mat197196@gmail.com'
2024-09-21 19:58:52,880 - logs - DEBUG - Normalized User ID: 'it--000011'
2024-09-21 19:58:52,880 - logs - DEBUG - Checking if user_id 'it--000011' exists in Prmst...
2024-09-21 19:58:52,882 - logs - DEBUG - Executing query: SELECT prmst.zid, prmst.xemp, prmst.xname, prmst.xproj, prmst.xstatusemp 
FROM prmst 
WHERE lower(prmst.xemp) = :lower_1
2024-09-21 19:58:52,891 - logs - DEBUG - Result of Prmst check for xemp='it--000011': False
2024-09-21 19:58:52,892 - logs - ERROR - You have no ID in employee table
2024-09-21 19:58:52,893 - logs - ERROR - HTTP error while registering user: 400: [{'msg': 'You have no ID in employee table'}]
2024-09-21 19:58:52,894 - logs - ERROR - Error registering user: 400: [{'msg': 'You have no ID in employee table'}]
2024-09-21 19:59:01,065 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 19:59:01,066 - logs - DEBUG - Normalized Username: 'ba498'
2024-09-21 19:59:01,066 - logs - DEBUG - Normalized Email: 'mat197196@gmail.com'
2024-09-21 19:59:01,066 - logs - DEBUG - Normalized User ID: 'it--000008'
2024-09-21 19:59:01,067 - logs - DEBUG - Checking if user_id 'it--000008' exists in Prmst...
2024-09-21 19:59:01,068 - logs - DEBUG - Executing query: SELECT prmst.zid, prmst.xemp, prmst.xname, prmst.xproj, prmst.xstatusemp 
FROM prmst 
WHERE lower(prmst.xemp) = :lower_1
2024-09-21 19:59:01,095 - logs - DEBUG - Result of Prmst check for xemp='it--000008': True
2024-09-21 19:59:01,097 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".username) = :lower_1
2024-09-21 19:59:01,193 - logs - DEBUG - Result of existence check for username='ba498': False
2024-09-21 19:59:01,194 - logs - DEBUG - Exists Value: None
2024-09-21 19:59:01,196 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".email) = :lower_1
2024-09-21 19:59:01,198 - logs - DEBUG - Result of existence check for email='mat197196@gmail.com': False
2024-09-21 19:59:01,199 - logs - DEBUG - Exists Value: None
2024-09-21 19:59:01,200 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers"."employeeCode") = :lower_1
2024-09-21 19:59:01,204 - logs - DEBUG - Result of existence check for employeeCode='it--000008': False
2024-09-21 19:59:01,204 - logs - DEBUG - Exists Value: None
2024-09-21 19:59:01,227 - logs - DEBUG - Password hashed successfully.
2024-09-21 19:59:01,228 - logs - DEBUG - User data before processing: {'user_id': 'it--000008', 'user_name': 'ba498', 'mobile': '01675373799', 'email': 'mat197196@gmail.com', 'businessId': [100001, 100005, 100000], 'is_admin': '', 'password': '12345678', 'confirm_password': '12345678'}
2024-09-21 19:59:01,228 - logs - DEBUG - Generated Accode: 'abc'
2024-09-21 19:59:01,228 - logs - DEBUG - Updated user data with hashed password and removed confirm_password.
2024-09-21 19:59:01,230 - logs - ERROR - Unexpected error during user registration: Database session not initialized.
Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\controllers\user_registration_controller.py", line 242, in register_user
    next_terminal = await database_controller.get_next_terminal()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\app\controllers\db_controllers\user_db_controller.py", line 73, in get_next_terminal
    raise Exception("Database session not initialized.")
Exception: Database session not initialized.

2024-09-21 19:59:01,231 - logs - ERROR - Error registering user: 500: Unexpected error during user registration
 2024-09-21 20:04:59,750 - logs - INFO - Registration endpoint called: /api/v1/users/registration
2024-09-21 20:04:59,751 - logs - DEBUG - Normalized Username: 'ba498'
2024-09-21 20:04:59,752 - logs - DEBUG - Normalized Email: 'mat197196@gmail.com'
2024-09-21 20:04:59,753 - logs - DEBUG - Normalized User ID: 'it--000008'
2024-09-21 20:04:59,754 - logs - DEBUG - Checking if user_id 'it--000008' exists in Prmst...
2024-09-21 20:04:59,769 - logs - DEBUG - Executing query: SELECT prmst.zid, prmst.xemp, prmst.xname, prmst.xproj, prmst.xstatusemp 
FROM prmst 
WHERE lower(prmst.xemp) = :lower_1
2024-09-21 20:04:59,785 - logs - DEBUG - Result of Prmst check for xemp='it--000008': True
2024-09-21 20:04:59,787 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".username) = :lower_1
2024-09-21 20:04:59,802 - logs - DEBUG - Result of existence check for username='ba498': False
2024-09-21 20:04:59,802 - logs - DEBUG - Exists Value: None
2024-09-21 20:04:59,804 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers".email) = :lower_1
2024-09-21 20:04:59,810 - logs - DEBUG - Result of existence check for email='mat197196@gmail.com': False
2024-09-21 20:04:59,811 - logs - DEBUG - Exists Value: None
2024-09-21 20:04:59,814 - logs - DEBUG - Executing query: SELECT "apiUsers".id, "apiUsers".username, "apiUsers".password, "apiUsers".employee_name, "apiUsers".email, "apiUsers".mobile, "apiUsers"."businessId", "apiUsers"."employeeCode", "apiUsers".terminal, "apiUsers".is_admin, "apiUsers".status, "apiUsers".accode 
FROM "apiUsers" 
WHERE lower("apiUsers"."employeeCode") = :lower_1
2024-09-21 20:04:59,823 - logs - DEBUG - Result of existence check for employeeCode='it--000008': False
2024-09-21 20:04:59,823 - logs - DEBUG - Exists Value: None
2024-09-21 20:04:59,858 - logs - DEBUG - Password hashed successfully.
2024-09-21 20:04:59,858 - logs - DEBUG - User data before processing: {'user_id': 'it--000008', 'user_name': 'ba498', 'mobile': '01675373799', 'email': 'mat197196@gmail.com', 'businessId': [100001, 100005, 100000], 'is_admin': '', 'password': '12345678', 'confirm_password': '12345678'}
2024-09-21 20:04:59,859 - logs - DEBUG - Generated Accode: 'abc'
2024-09-21 20:04:59,859 - logs - DEBUG - Updated user data with hashed password and removed confirm_password.
2024-09-21 20:04:59,860 - logs - DEBUG - Connected to the database.
2024-09-21 20:05:00,036 - logs - DEBUG - Obtained Next Terminal: 'T0086'
2024-09-21 20:05:00,036 - logs - DEBUG - Determined User Role: 'user'
2024-09-21 20:05:00,036 - logs - DEBUG - Creating new user instance: <models.users_model.ApiUsers object at 0x0000021C84AE7DD0>
2024-09-21 20:05:00,037 - logs - DEBUG - Added new user to the database session.
2024-09-21 20:05:00,048 - logs - DEBUG - Committed the transaction.
2024-09-21 20:05:00,053 - logs - INFO - User 'ba498' created successfully with ID 113
2024-09-21 20:05:00,054 - logs - INFO - User registered successfully: ba498
2024-09-22 10:24:56,161 - logs - INFO - get all items endpoint called: /api/v1/items/all/100001
2024-09-22 11:42:00,967 - logs - INFO - Create order endpoint called: /api/v1/order/create-order/100001
2024-09-22 11:42:00,968 - logs - ERROR - Unexpected error creating order: 'UserRegistrationSchema' object has no attribute 'terminal'
2024-09-22 11:43:05,532 - logs - INFO - Create order endpoint called: /api/v1/order/create-order/100001
2024-09-22 11:43:05,532 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 15:37:30,891 - logs - INFO - get all items endpoint called: /api/v1/items/all/100005
2024-09-24 15:42:42,413 - logs - INFO - Create order endpoint called: /api/v1/order/create-order/100005
2024-09-24 15:44:41,651 - logs - INFO - Create order endpoint called: /api/v1/order/create-order/100005
2024-09-24 15:44:58,855 - logs - INFO - Create order endpoint called: /api/v1/order/create-order/100005
2024-09-24 15:45:38,803 - logs - INFO - Create order endpoint called: /api/v1/order/create-order/100005
2024-09-24 15:46:15,241 - logs - INFO - Create order endpoint called by maruf: /api/v1/order/create-order/100005
2024-09-24 15:47:59,618 - logs - INFO - Create order endpoint called by maruf: /api/v1/order/create-order/100005
2024-09-24 15:49:37,910 - logs - INFO - Create order endpoint called by maruf: /api/v1/order/create-order/100005
2024-09-24 15:50:43,549 - logs - INFO - Create order endpoint called by maruf: /api/v1/order/create-order/100005
2024-09-24 15:52:56,038 - logs - INFO - Create order endpoint called by maruf: /api/v1/order/create-order/100005
2024-09-24 15:52:56,039 - logs - ERROR - Unexpected error creating order: 'ModelMetaclass' object is not iterable
2024-09-24 15:52:59,631 - logs - INFO - Create order endpoint called by maruf: /api/v1/order/create-order/100005
2024-09-24 15:52:59,633 - logs - ERROR - Unexpected error creating order: 'ModelMetaclass' object is not iterable
2024-09-24 15:53:13,554 - logs - INFO - Create order endpoint called by maruf: /api/v1/order/create-order/100005
2024-09-24 15:53:13,555 - logs - ERROR - Unexpected error creating order: 'ModelMetaclass' object is not iterable
2024-09-24 15:54:02,724 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 15:54:02,724 - logs - ERROR - Unexpected error creating order: 'ModelMetaclass' object is not iterable
2024-09-24 15:55:44,088 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 15:55:44,090 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 15:56:30,231 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 15:56:30,233 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 15:58:32,842 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 15:58:32,843 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 16:02:45,622 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 16:02:45,623 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 16:08:21,354 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 16:08:21,356 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 16:08:45,896 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 16:08:45,897 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 16:09:54,261 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 16:09:54,263 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 16:11:57,370 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-24 16:11:57,373 - logs - ERROR - Unexpected error creating order: name 'current_user' is not defined
2024-09-24 16:13:16,925 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-24 16:13:16,926 - logs - ERROR - Unexpected error creating order: name 'current_user' is not defined
2024-09-24 16:14:08,646 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-24 16:14:08,647 - logs - ERROR - Unexpected error creating order: name 'current_user' is not defined
2024-09-24 16:15:08,551 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 16:15:08,553 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 16:15:38,163 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 16:15:38,184 - logs - ERROR - Unexpected error creating order: This transaction is closed
2024-09-24 17:33:16,171 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:33:16,185 - logs - ERROR - Unexpected error creating order: 'UserRegistrationSchema' object has no attribute 'terminal'
2024-09-24 17:35:29,135 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:35:29,136 - logs - ERROR - Unexpected error creating order: 'UserRegistrationSchema' object has no attribute 'terminal'
2024-09-24 17:36:12,033 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:36:12,033 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 17:39:23,575 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:39:23,577 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 17:40:00,853 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:40:00,855 - logs - ERROR - Unexpected error creating order: name 'terminal' is not defined
2024-09-24 17:40:36,743 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:40:36,844 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100005, datetime.datetime(2024, 9, 24, 17, 40, 36, 835913), datetime.datetime(2024, 9, 24, 17, 40, 36, 835913), 'T0084-12903-32453-3640', '129032453640', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-09-24', 'e46498c1-fe14-4096-bdde-69d318b99fd4', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-24 17:42:32,345 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:42:32,458 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100005, datetime.datetime(2024, 9, 24, 17, 42, 32, 452752), datetime.datetime(2024, 9, 24, 17, 42, 32, 452752), 'T0084-01809-97909-9052', '018097909052', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-09-24', 'f7d7bf2b-57d8-46d6-8153-8707f8a93b3f', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-24 17:46:20,394 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:46:20,532 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100005, datetime.datetime(2024, 9, 24, 17, 46, 20, 525764), datetime.datetime(2024, 9, 24, 17, 46, 20, 525764), 'T0084-07199-97298-8506', '071997298506', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', '44491302-9eec-44c7-9661-8963d2e31ba8', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-24 17:46:52,012 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:46:52,027 - logs - ERROR - Unexpected error creating order: This transaction is closed
2024-09-24 17:47:27,890 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:47:28,104 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100005, datetime.datetime(2024, 9, 24, 17, 47, 28, 98155), datetime.datetime(2024, 9, 24, 17, 47, 28, 98155), 'T0084-12844-44450-0110', '128444450110', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', 'a2e18473-0625-41da-9106-ae6ca5ab78c1', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-24 17:48:52,947 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 17:48:53,103 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100005, datetime.datetime(2024, 9, 24, 17, 48, 53, 98656), datetime.datetime(2024, 9, 24, 17, 48, 53, 98656), 'T0084-93159-94029-9247', '931594029247', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', '9cf48e27-7e4b-48a1-a12d-a38fb90e1de3', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
 2024-09-24 18:01:27,376 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 18:01:27,578 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $5: '862474187550' ('str' object cannot be interpreted as an integer)
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::DATE, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100005, datetime.datetime(2024, 9, 24, 18, 1, 27, 559046), datetime.datetime(2024, 9, 24, 18, 1, 27, 559046), 'T0084-86247-74187-7550', '862474187550', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', 'b2631805-2939-433a-b224-e8836161c2f7', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2024-09-24 18:01:27,708 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 18:01:27,714 - logs - ERROR - Unexpected error creating order: This transaction is closed
2024-09-24 18:01:50,624 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100005
2024-09-24 18:01:50,754 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100005, datetime.datetime(2024, 9, 24, 18, 1, 50, 746504), datetime.datetime(2024, 9, 24, 18, 1, 50, 746504), 'T0084-11009-98231-1263', '110098231263', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', 'e650750a-e9a7-4133-8ac6-9d2f5e04d3da', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-25 16:37:49,574 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:37:49,690 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100001, datetime.datetime(2024, 9, 25, 16, 37, 49, 681888), datetime.datetime(2024, 9, 25, 16, 37, 49, 681888), 'T0084-51376-61562-2987', '513761562987', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', 'fa770fd6-7ba2-4435-9ff3-a3f0a23f010a', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-25 16:39:14,128 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:39:14,280 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100001, datetime.datetime(2024, 9, 25, 16, 39, 14, 130348), datetime.datetime(2024, 9, 25, 16, 39, 14, 130348), 'T0084-58729-99095-5368', '587299095368', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', 'cd623779-28cf-4d68-aec7-1f7863b0e460', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-25 16:39:48,472 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:39:48,473 - logs - ERROR - Unexpected error creating order: 'ztime' is an invalid keyword argument for Opmob
2024-09-25 16:40:14,493 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:40:14,590 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::VARCHAR, $3::BIGINT, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::FLOAT, $12::FLOAT, $13::VARCHAR, $14::VARCHAR, $15::INTEGER, $16::VARCHAR, $17::VARCHAR, $18::VARCHAR, $19::FLOAT, $20::FLOAT, $21::FLOAT, $22::INTEGER, $23::FLOAT, $24::VARCHAR, $25::VARCHAR, $26::VARCHAR)]
[parameters: (100001, 'T0084-85582-23271-1902', '855823271902', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', '90dff2e3-0412-4f7c-931b-20eef2d8938d', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-25 16:42:13,063 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:42:13,268 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100001, datetime.datetime(2024, 9, 25, 16, 42, 13, 64539), datetime.datetime(2024, 9, 25, 16, 42, 13, 64539), 'T0084-82800-00380-0808', '828000380808', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-12-05', 'dada1f0f-3f53-43a2-8824-11682461454a', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-25 16:45:17,312 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:45:17,514 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100001, datetime.datetime(2024, 9, 25, 16, 45, 17, 313671), datetime.datetime(2024, 9, 25, 16, 45, 17, 313671), 'T0084-90228-81341-1793', '902281341793', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-09-25', '4380bfbc-d58c-4f42-9474-6828452fa1b6', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-25 16:46:04,542 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:46:04,755 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "xdate" is of type date but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100001, None, None, 'T0084-64945-58597-7735', '649458597735', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-09-25', '36391c68-7f8e-4171-9eaf-aa8e57ee8288', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-09-25 16:47:06,873 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:47:07,109 - logs - ERROR - Unexpected error creating order: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $5: '290327572566' ('str' object cannot be interpreted as an integer)
[SQL: INSERT INTO opmob (zid, ztime, zutime, invoiceno, invoicesl, username, xemp, xcus, xcusname, xcusadd, xitem, xdesc, xqty, xprice, xstatusord, xordernum, xroword, xterminal, xdate, xsl, xlat, xlong, xlinetotal, xtra1, xtra2, xtra3, xtra4, xtra5) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::BIGINT, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::FLOAT, $14::FLOAT, $15::VARCHAR, $16::VARCHAR, $17::INTEGER, $18::VARCHAR, $19::DATE, $20::VARCHAR, $21::FLOAT, $22::FLOAT, $23::FLOAT, $24::INTEGER, $25::FLOAT, $26::VARCHAR, $27::VARCHAR, $28::VARCHAR)]
[parameters: (100001, None, None, 'T0084-29032-27572-2566', '290327572566', 'basharmd95', 'IT--000009', 'string', 'string', 'string', 'string', 'string', 0, 0, None, None, 0, 'T0084', '2024-09-25', '59485a37-b7c9-4b11-bc7f-e47b51ff5fdd', 0.0, 0.0, 0, None, None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2024-09-25 16:56:29,915 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:56:29,917 - logs - ERROR - Unexpected error creating order: OrderDBController.create_order() takes 3 positional arguments but 4 were given
2024-09-25 16:58:02,152 - logs - INFO - Create order endpoint called by: /api/v1/order/create-order/100001
2024-09-25 16:58:02,153 - logs - ERROR - Unexpected error creating order: name 'current_user' is not defined
2024-09-25 17:33:50,963 - logs - INFO - get all users endpoint called: /api/v1/testpost/testroute
2024-09-25 17:44:40,667 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:47:01,889 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:47:34,511 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:49:00,934 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:50:46,349 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:50:46,375 - logs - ERROR - Error creating order: This transaction is closed
2024-09-25 17:51:42,511 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:51:42,551 - logs - ERROR - Error in create_order_abd: This transaction is closed
2024-09-25 17:54:50,308 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:54:50,338 - logs - ERROR - Error in create_order_abd: This transaction is closed
2024-09-25 17:58:50,230 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 17:58:50,281 - logs - ERROR - Error in create_order_abd: This transaction is closed
2024-09-25 17:58:50,289 - logs - ERROR - Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 679, in execute
    util.preloaded.orm_persistence.delete_obj(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 176, in delete_obj
    states_to_delete = list(
                       ^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 311, in _organize_states_for_delete
    for state, dict_, mapper, connection in _connections_for_states(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1753, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in connection
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\routers\test_post_route.py", line 18, in create_order_abd
    created_order = await test_db_controller.create_order_abdef(zid, order)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\app\controllers\db_controllers\test_post_controller.py", line 27, in create_order_abdef
    await self.db.commit()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4431, in _flush
    with util.safe_reraise():
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 150, in __exit__
    raise value.with_traceback(traceback)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
  File "<string>", line 2, in rollback
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

2024-09-25 18:01:23,466 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 18:01:23,505 - logs - ERROR - Error in create_order_abd: This transaction is closed
2024-09-25 18:01:23,508 - logs - ERROR - Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 679, in execute
    util.preloaded.orm_persistence.delete_obj(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 176, in delete_obj
    states_to_delete = list(
                       ^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 311, in _organize_states_for_delete
    for state, dict_, mapper, connection in _connections_for_states(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1753, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in connection
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\routers\test_post_route.py", line 18, in create_order_abd
    created_order = await test_db_controller.create_order_abdef(zid, order)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\app\controllers\db_controllers\test_post_controller.py", line 27, in create_order_abdef
    await self.db.commit()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4431, in _flush
    with util.safe_reraise():
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 150, in __exit__
    raise value.with_traceback(traceback)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
  File "<string>", line 2, in rollback
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

2024-09-25 18:02:00,745 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 18:02:00,781 - logs - ERROR - Error in create_order_abd: This transaction is closed
2024-09-25 18:02:00,784 - logs - ERROR - Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 679, in execute
    util.preloaded.orm_persistence.delete_obj(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 176, in delete_obj
    states_to_delete = list(
                       ^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 311, in _organize_states_for_delete
    for state, dict_, mapper, connection in _connections_for_states(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1753, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in connection
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\routers\test_post_route.py", line 18, in create_order_abd
    created_order = await test_db_controller.create_order_abdef(zid, order)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\app\controllers\db_controllers\test_post_controller.py", line 27, in create_order_abdef
    await self.db.commit()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4431, in _flush
    with util.safe_reraise():
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 150, in __exit__
    raise value.with_traceback(traceback)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
  File "<string>", line 2, in rollback
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

2024-09-25 18:03:44,685 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 18:03:44,735 - logs - ERROR - Error in create_order_abd: This transaction is closed
2024-09-25 18:03:44,740 - logs - ERROR - Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 679, in execute
    util.preloaded.orm_persistence.delete_obj(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 176, in delete_obj
    states_to_delete = list(
                       ^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 311, in _organize_states_for_delete
    for state, dict_, mapper, connection in _connections_for_states(
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1753, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in connection
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\routers\test_post_route.py", line 18, in create_order_abd
    created_order = await test_db_controller.create_order_abdef(zid, order)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\app\controllers\db_controllers\test_post_controller.py", line 27, in create_order_abdef
    await self.db.commit()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4431, in _flush
    with util.safe_reraise():
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 150, in __exit__
    raise value.with_traceback(traceback)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
  File "<string>", line 2, in rollback
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "F:\2FastAPI\orderapp\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 943, in _raise_for_prerequisite_state
    raise sa_exc.ResourceClosedError("This transaction is closed")
sqlalchemy.exc.ResourceClosedError: This transaction is closed

2024-09-25 18:05:45,557 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 18:05:45,558 - logs - ERROR - Error in create_order_abd: 'async_generator' object does not support the asynchronous context manager protocol
2024-09-25 18:05:45,560 - logs - ERROR - Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\routers\test_post_route.py", line 17, in create_order_abd
    async with test_db_controller.get_db() as db:
TypeError: 'async_generator' object does not support the asynchronous context manager protocol

2024-09-25 18:09:55,818 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 18:09:55,819 - logs - ERROR - Error in create_order_abd: 'TestPostController' object has no attribute 'get_db'
2024-09-25 18:09:55,821 - logs - ERROR - Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\routers\test_post_route.py", line 17, in create_order_abd
    async with test_db_controller.get_db() as db:
               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'TestPostController' object has no attribute 'get_db'

2024-09-25 18:11:35,618 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 18:11:35,619 - logs - ERROR - Error in create_order_abd: name 'db' is not defined
2024-09-25 18:11:35,620 - logs - ERROR - Traceback (most recent call last):
  File "F:\2FastAPI\orderapp\app\routers\test_post_route.py", line 18, in create_order_abd
    created_order = await test_db_controller.create_order_abdef(db, zid, order)
                                                                ^^
NameError: name 'db' is not defined

2024-09-25 18:11:44,981 - logs - INFO - create Test Post Route endpoint called: /api/v1/testpost/create-order-abd
2024-09-25 18:11:45,020 - logs - ERROR - Error in create_order_abd: This transaction is closed
